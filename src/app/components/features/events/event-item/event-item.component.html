<div class="card shadow-sm mb-4">
	<div
		class="card-header py-3 d-flex justify-content-between align-items-center"
	>
		<h5 class="m-0 fw-bold text-primary">
			{{ card.title }}
		</h5>

		@if (card.isOwner) {
			<span class="badge bg-secondary">Värd</span>
		} @else {
			@if (card.response === "ATTENDING_ONLINE") {
				<span class="badge bg-success">Anmäld Online</span>
			} @else if (card.response === "ATTENDING_OFFICE") {
				<span class="badge bg-success">Anmäld på plats</span>
			} @else if (card.response === "NOT_ATTENDING") {
				<span class="badge bg-danger">Avvisat</span>
			} @else if (card.response === "PENDING") {
				<span class="badge bg-warning text-dark">Inväntar svar</span>
			}
		}
	</div>

	<div class="card-body">
		<div class="d-flex align-items-center mb-2">
			<i class="bi bi-calendar-event me-2 text-secondary"></i>
			<small class="text-muted">{{ card.date | date: "EEEE d/M" }}</small>
		</div>

		<div class="d-flex align-items-center mb-2">
			<i class="bi bi-clock me-2 text-secondary"></i>
			<small class="text-muted">{{ card.date | date: "HH:mm" }}</small>
		</div>

		<p class="mb-2 text-secondary">{{ card.description }}</p>
	</div>

	<div class="card-footer bg-transparent border-top-0">
		@if (card.isOwner) {
			<button
				class="btn btn-sm btn-outline-secondary w-100"
				(click)="onAction($event, 'edit')"
			>
				<i class="bi bi-pencil"></i> Redigera
			</button>
		} @else {
			@if (card.response === "PENDING") {
				<div class="d-grid gap-2">
					<button
						class="btn btn-sm btn-outline-primary"
						(click)="onAction($event, 'attend_online')"
					>
						<i class="bi bi-laptop"></i> Delta online
					</button>
					<button
						class="btn btn-sm btn-outline-primary"
						(click)="onAction($event, 'attend_office')"
					>
						<i class="bi bi-building"></i> Delta på plats
					</button>
					<button
						class="btn btn-sm btn-outline-danger"
						(click)="onAction($event, 'decline')"
					>
						<i class="bi bi-x-circle"></i> Avvisa inbjudan
					</button>
				</div>
			} @else if (
				card.response === "ATTENDING_ONLINE" ||
				card.response === "ATTENDING_OFFICE"
			) {
				<button
					class="btn btn-sm btn-outline-warning w-100"
					(click)="onAction($event, 'cancel_attendance')"
				>
					<i class="bi bi-arrow-counterclockwise"></i> Ångra anmälan
				</button>
			} @else if (card.response === "NOT_ATTENDING") {
				<button
					class="btn btn-sm btn-outline-secondary w-100"
					(click)="onAction($event, 'undo_decline')"
				>
					<i class="bi bi-arrow-clockwise"></i> Ångra avvisan
				</button>
			}
		}
	</div>
</div>
